



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Public Documentation">
      
      
        <link rel="canonical" href="https://www.doubleu.codes/pubdocs/guides/services/xen-orchestra/">
      
      
        <meta name="author" content="W Anders">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../../img/favicon.ico">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.6.0">
    
    
      
        <title>Xen-Orchestra - Public Docs</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/application.1b62728e.css">
      
        <link rel="stylesheet" href="../../../assets/stylesheets/application-palette.a8b3c06d.css">
      
      
        
        
        <meta name="theme-color" content="#4caf50">
      
    
    
      <script src="../../../assets/javascripts/modernizr.268332fc.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../../assets/fonts/material-icons.css">
    
    
    
      
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="green" data-md-color-accent="red">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#xen-orchestra" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://www.doubleu.codes/pubdocs/" title="Public Docs" class="md-header-nav__button md-logo">
          
            <img src="../../../img/logo.png" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              Public Docs
            </span>
            <span class="md-header-nav__topic">
              
                Xen-Orchestra
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  

<a href="https://github.com/wranders/pubdocs/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    GitHub
  </div>
</a>
          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
        

  

<nav class="md-tabs md-tabs--active" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  <li class="md-tabs__item">
    
      <a href="../../.." class="md-tabs__link">
        Welcome
      </a>
    
  </li>

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../../kb/" class="md-tabs__link">
          Knowledge Base
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../" class="md-tabs__link md-tabs__link--active">
          Guides
        </a>
      
    </li>
  

      
    </ul>
  </div>
</nav>
      
      <main class="md-main" role="main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="https://www.doubleu.codes/pubdocs/" title="Public Docs" class="md-nav__button md-logo">
      
        <img src="../../../img/logo.png" width="48" height="48">
      
    </a>
    Public Docs
  </label>
  
    <div class="md-nav__source">
      


  

<a href="https://github.com/wranders/pubdocs/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../../.." title="Welcome" class="md-nav__link">
      Welcome
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      Knowledge Base
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Knowledge Base
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../kb/" title="Knowledge Base" class="md-nav__link">
      Knowledge Base
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-2" type="checkbox" id="nav-2-2">
    
    <label class="md-nav__link" for="nav-2-2">
      Servers
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-2-2">
        Servers
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../kb/servers/dell-r510/" title="Dell R510" class="md-nav__link">
      Dell R510
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../kb/servers/dell-r610/" title="Dell R610" class="md-nav__link">
      Dell R610
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../kb/interface-bit-rates/" title="Interface Bit Rates" class="md-nav__link">
      Interface Bit Rates
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-4" type="checkbox" id="nav-2-4">
    
    <label class="md-nav__link" for="nav-2-4">
      IETF RFC
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-2-4">
        IETF RFC
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../rfc/ldap/" title="LDAP" class="md-nav__link">
      LDAP
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3" checked>
    
    <label class="md-nav__link" for="nav-3">
      Guides
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Guides
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../" title="Guides" class="md-nav__link">
      Guides
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-2" type="checkbox" id="nav-3-2" checked>
    
    <label class="md-nav__link" for="nav-3-2">
      Services
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-3-2">
        Services
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../" title="Services" class="md-nav__link">
      Services
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Xen-Orchestra
      </label>
    
    <a href="./" title="Xen-Orchestra" class="md-nav__link md-nav__link--active">
      Xen-Orchestra
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#repositories" class="md-nav__link">
    Repositories
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dependencies" class="md-nav__link">
    Dependencies
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#redis" class="md-nav__link">
    Redis
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#application" class="md-nav__link">
    Application
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#configuration" class="md-nav__link">
    Configuration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#systemd-and-sudoers" class="md-nav__link">
    systemd and sudoers
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#nginx" class="md-nav__link">
    Nginx
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#selinux" class="md-nav__link">
    SELinux
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#connect" class="md-nav__link">
    Connect
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#plugins" class="md-nav__link">
    Plugins
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#auth-github" class="md-nav__link">
    auth-github
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#auth-google" class="md-nav__link">
    auth-google
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#auth-ldap" class="md-nav__link">
    auth-ldap
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#auth-saml" class="md-nav__link">
    auth-saml
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#backup-reports" class="md-nav__link">
    backup-reports
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#load-balancer" class="md-nav__link">
    load-balancer
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#perf-alert" class="md-nav__link">
    perf-alert
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sdn-controller" class="md-nav__link">
    sdn-controller
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#transport-email" class="md-nav__link">
    transport-email
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#transport-icinga2" class="md-nav__link">
    transport-icinga2
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#transport-nagios" class="md-nav__link">
    transport-nagios
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#transport-slack" class="md-nav__link">
    transport-slack
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#transport-xmpp" class="md-nav__link">
    transport-xmpp
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#usage-report" class="md-nav__link">
    usage-report
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#web-hooks" class="md-nav__link">
    web-hooks
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../self-signed-certificate-with-root/" title="Self-Signed Certificate with Root" class="md-nav__link">
      Self-Signed Certificate with Root
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#repositories" class="md-nav__link">
    Repositories
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dependencies" class="md-nav__link">
    Dependencies
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#redis" class="md-nav__link">
    Redis
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#application" class="md-nav__link">
    Application
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#configuration" class="md-nav__link">
    Configuration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#systemd-and-sudoers" class="md-nav__link">
    systemd and sudoers
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#nginx" class="md-nav__link">
    Nginx
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#selinux" class="md-nav__link">
    SELinux
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#connect" class="md-nav__link">
    Connect
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#plugins" class="md-nav__link">
    Plugins
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#auth-github" class="md-nav__link">
    auth-github
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#auth-google" class="md-nav__link">
    auth-google
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#auth-ldap" class="md-nav__link">
    auth-ldap
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#auth-saml" class="md-nav__link">
    auth-saml
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#backup-reports" class="md-nav__link">
    backup-reports
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#load-balancer" class="md-nav__link">
    load-balancer
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#perf-alert" class="md-nav__link">
    perf-alert
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sdn-controller" class="md-nav__link">
    sdn-controller
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#transport-email" class="md-nav__link">
    transport-email
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#transport-icinga2" class="md-nav__link">
    transport-icinga2
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#transport-nagios" class="md-nav__link">
    transport-nagios
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#transport-slack" class="md-nav__link">
    transport-slack
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#transport-xmpp" class="md-nav__link">
    transport-xmpp
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#usage-report" class="md-nav__link">
    usage-report
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#web-hooks" class="md-nav__link">
    web-hooks
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/wranders/pubdocs/edit/src/docs/guides/services/xen-orchestra/README.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="xen-orchestra">Xen-Orchestra<a class="headerlink" href="#xen-orchestra" title="Permanent link">&para;</a></h1>
<p>This guide is written using the following versions:</p>
<ul>
<li><a href="https://www.centos.org/">CentOS</a> 8.0.1905 (Core)</li>
<li><a href="https://xen-orchestra.com/">Xen-Orchestra</a> 5.54.0</li>
<li><a href="https://nodejs.org/">Node.js</a> 10.16.3</li>
<li><a href="https://yarnpkg.com/">Yarn</a> 1.12.1</li>
<li><a href="https://www.nginx.com/">Nginx</a> 1.14.1</li>
<li><a href="https://redis.io/">Redis</a> 5.0.3</li>
</ul>
<p>Certain considerations with configuration have been taken to satisfy my environment and requirements. Most notably:</p>
<ol>
<li><a href="https://xcp-ng.org/">XCP-ng</a> servers use certificates from my internal certificate authority (CA), so for Node.js to use the system's roots or provided roots without allowing "Unauthorized Certificates", it must run in an unprivileged state.<ul>
<li>Non-root user</li>
<li>Non-system user</li>
<li>No Linux Capablities (ie. <code>cap_net_bind_service</code>), so no binding to ports &lt;1024</li>
</ul>
</li>
<li>Nginx will terminate SSL and proxy traffic to Xen-Orchestra to satisfy the non-root requirement</li>
<li>Nginx will automatically redirect HTTP traffic to HTTPS</li>
<li>NFS remotes are used for backup services, so the Xen-Orchestra user is granted <code>NOPASSWD</code> access in <code>sudoers</code> to the <code>mount</code> and <code>umount</code> commands.<ul>
<li>A <a href="https://freedesktop.org/wiki/Software/systemd/">systemd</a> drop-in is used to define a RuntimeDirectory where Xen-Orchestra mounts NFS remotes</li>
</ul>
</li>
</ol>
<hr />
<h2 id="repositories">Repositories<a class="headerlink" href="#repositories" title="Permanent link">&para;</a></h2>
<p>The only third-party repository that is required is Yarn's.</p>
<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%"><span></span>curl -sL https://dl.yarnpkg.com/rpm/yarn.repo | sudo tee /etc/yum.repos.d/yarn.repo
</pre></div>

<h2 id="dependencies">Dependencies<a class="headerlink" href="#dependencies" title="Permanent link">&para;</a></h2>
<p>Update repositories and upgrade any outdated packages:</p>
<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%"><span></span>sudo dnf update -y
</pre></div>

<p>Install dependencies. <code>G++</code> is required to compile some parts of Xen-Orchestra.</p>
<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%"><span></span>sudo dnf install -y nodejs yarn nginx redis git gcc-c++ nfs-utils
</pre></div>

<div class="admonition info">
<p class="admonition-title">Info</p>
<p>The official <a href="https://xen-orchestra.com/docs/from_the_sources.html">"From the Sources"</a> documentation says to use Node.js 8, but the System <code>AppStream</code> repository contains v10. I've encountered no issues with the newer version. Besides, v8 is <a href="https://nodejs.org/en/about/releases/">EOL as of 1 January 2020</a> and no longer recieving any updates.</p>
</div>
<h2 id="redis">Redis<a class="headerlink" href="#redis" title="Permanent link">&para;</a></h2>
<p>Set Redis to start on boot and start:</p>
<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%"><span></span>sudo systemctl <span style="color: #008000">enable</span> --now redis.service
</pre></div>

<p>Verify Redis is running:</p>
<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%"><span></span>redis-cli ping
</pre></div>

<p>If Redis is running, <code>PONG</code> should be printed to the console.</p>
<h2 id="application">Application<a class="headerlink" href="#application" title="Permanent link">&para;</a></h2>
<p>Create the application user:</p>
<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%"><span></span>sudo adduser -m -U <span style="color: #BB6622; font-weight: bold">\</span>
-c <span style="color: #BA2121">&quot;Xen-Orchestra User&quot;</span> <span style="color: #BB6622; font-weight: bold">\</span>
-s /sbin/nologin xo
</pre></div>

<div class="admonition error">
<p class="admonition-title">Critical</p>
<p>Do <strong>NOT</strong> run Xen-Orchestra as the <code>root</code> user.</p>
</div>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>The <code>-m</code> flag creates a home directory (<code>/home/xo</code>) so <code>yarn</code> can create its cache.</p>
</div>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>Creating the <code>xo</code> user as a system user (<code>-r</code> flag) will prevent the use of system or provided root certificates.</p>
</div>
<p>Clone the Xen-Orchestra repository master branch to <code>/opt/</code>:</p>
<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%"><span></span>sudo git clone -b master https://github.com/vatesfr/xen-orchestra /opt/xen-orchestra
</pre></div>

<p>Set the <code>xo</code> user as the owner of the repository directory:</p>
<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%"><span></span>sudo chown -R xo:xo /opt/xen-orchestra
</pre></div>

<div class="admonition info">
<p class="admonition-title">Info</p>
<p><code>yarn</code> commands are run with the <code>--cwd</code> flag and directory location so that they can be run from any directory.</p>
</div>
<p>Gather Yarn dependencies and build the application. This will take a while:</p>
<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%"><span></span>sudo -u xo yarn --cwd /opt/xen-orchestra <span style="color: #666666">&amp;&amp;</span> <span style="color: #BB6622; font-weight: bold">\</span>
sudo -u xo yarn --cwd /opt/xen-orchestra build
</pre></div>

<p>Create the configuration and data directories:</p>
<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%"><span></span>sudo mkdir /etc/xo-server /var/lib/xo-server
</pre></div>

<p>Set ownership of the data directory to the <code>xo</code> user:</p>
<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%"><span></span>sudo chown xo:xo /var/lib/xo-server
</pre></div>

<h3 id="configuration">Configuration<a class="headerlink" href="#configuration" title="Permanent link">&para;</a></h3>
<p>Create <code>/etc/xo-server/config.toml</code>:</p>
<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%"><span></span><span style="color: #666666">[</span>http<span style="color: #666666">]</span>

<span style="color: #666666">[[</span>http.listen<span style="color: #666666">]]</span>
<span style="color: #19177C">hostname</span> <span style="color: #666666">=</span> <span style="color: #BA2121">&#39;127.0.0.1&#39;</span>
<span style="color: #19177C">port</span> <span style="color: #666666">=</span> <span style="color: #666666">8080</span>

<span style="color: #666666">[</span>http.mounts<span style="color: #666666">]</span>

<span style="color: #666666">[</span>http.proxies<span style="color: #666666">]</span>

<span style="color: #666666">[</span>redis<span style="color: #666666">]</span>

<span style="color: #666666">[</span>remoteOptions<span style="color: #666666">]</span>
<span style="color: #19177C">useSudo</span> <span style="color: #666666">=</span> <span style="color: #008000">true</span>
</pre></div>

<h3 id="systemd-and-sudoers">systemd and sudoers<a class="headerlink" href="#systemd-and-sudoers" title="Permanent link">&para;</a></h3>
<p>Create the systemd unit file:</p>
<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%"><span></span><span style="color: #008000">echo</span> <span style="color: #BA2121">&quot;[Unit]</span>
<span style="color: #BA2121">Description=Xen-Orchestra - Xen Server Web Manager</span>
<span style="color: #BA2121">After=network.target</span>
<span style="color: #BA2121">After=network-online.target</span>
<span style="color: #BA2121">Wants=network-online.target</span>

<span style="color: #BA2121">[Service]</span>
<span style="color: #BA2121">User=xo</span>
<span style="color: #BA2121">Group=xo</span>
<span style="color: #BA2121">Environment=NODE_OPTIONS=--use-openssl-ca</span>
<span style="color: #BA2121">Environment=NODE_EXTRA_CA_CERTS=/etc/ssl/certs/ca-bundle.crt</span>
<span style="color: #BA2121">ExecStart=/opt/xen-orchestra/packages/xo-server/bin/xo-server</span>
<span style="color: #BA2121">Restart=always</span>
<span style="color: #BA2121">RestartSec=10</span>

<span style="color: #BA2121">[Install]</span>
<span style="color: #BA2121">WantedBy=multi-user.target&quot;</span> | sudo tee /etc/systemd/system/xo.service &gt;/dev/null
</pre></div>

<p>To allow the mount of NFS remotes, a few things need to be done.</p>
<p>Create a directory for the service unit drop-ins:</p>
<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%"><span></span>sudo mkdir /etc/systemc/system/xo.service.d
</pre></div>

<p>Create the service unit drop-in:</p>
<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%"><span></span><span style="color: #008000">echo</span> <span style="color: #BA2121">&quot;[Service]</span>
<span style="color: #BA2121">RuntimeDirectory=xo-server</span>
<span style="color: #BA2121">RuntimeDirectoryMode=0750&quot;</span> | <span style="color: #BB6622; font-weight: bold">\</span>
sudo tee /etc/systemd/system/xo.service.d/nfs.conf &gt;/dev/null
</pre></div>

<p>To mount the NFS remotes, the <code>xo</code> user needs <code>NOPASSWD</code> <code>sudo</code> access to the <code>mount</code> and <code>umount</code> commands. Create a sudoers file containing these permissions:</p>
<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%"><span></span><span style="color: #008000">echo</span> -e <span style="color: #BA2121">&quot;xo\tALL=(root)\tNOPASSWD:</span><span style="color: #008000; font-weight: bold">$(</span>which mount<span style="color: #008000; font-weight: bold">)</span><span style="color: #BA2121">,</span><span style="color: #008000; font-weight: bold">$(</span>which umount<span style="color: #008000; font-weight: bold">)</span><span style="color: #BA2121">&quot;</span> | <span style="color: #BB6622; font-weight: bold">\</span>
sudo tee /etc/sudoers.d/xo
</pre></div>

<div class="admonition danger">
<p class="admonition-title">Warning</p>
<p>Do <strong>NOT</strong> edit <code>/etc/sudoers</code> directly, or without <code>visudo</code>. If an error is made, <code>sudo</code> will be broken and the <code>root</code> user will be needed to correct it.</p>
</div>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>A file is made in <code>/etc/sudoers.d</code> instead of adding a line to <code>/etc/sudoers</code> because updates can cause the <code>/etc/sudoers</code> file to be reset.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>If the server is domain-joined with <code>realmd</code> and <code>sssd</code>, and file domains are enabled (<code>enable_files_domain = True</code>) in <code>sssd.conf</code>, the <code>implicit_file</code> domain would have to be added to the <code>xo</code> username:</p>
<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%"><span></span>xo@implicit_domain    <span style="color: #19177C">ALL</span><span style="color: #666666">=(</span>root<span style="color: #666666">)</span>    NOPASSWD: /usr/bin/mount, /usr/bin/umount
</pre></div>

</div>
<p>Update the systemd database:</p>
<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%"><span></span>sudo systemctl daemon-reload
</pre></div>

<p>Set Xen-Orchestra to start on boot and start now:</p>
<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%"><span></span>sudo systemctl <span style="color: #008000">enable</span> --now xo.service
</pre></div>

<p>Make sure the application is responding:</p>
<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%"><span></span>curl -I <span style="color: #666666">127</span>.0.0.1:8080
</pre></div>

<p><code>HTTP/1.1 302 Found</code> should be the response if Xen-Orchestra is running.</p>
<h2 id="nginx">Nginx<a class="headerlink" href="#nginx" title="Permanent link">&para;</a></h2>
<p>Move the default Nginx configuration since it's easier to replace than edit:</p>
<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%"><span></span>sudo mv /etc/nginx/nginx.conf /etc/nginx/nginx.conf/orig
</pre></div>

<p>Recreate <code>/etc/nginx/nginx.conf</code> with the following contents:</p>
<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%"><span></span>user nginx;
pid /run/nginx.pid;
worker_processes auto;

include /usr/share/nginx/modules/*.conf;

events <span style="color: #666666">{</span>
    multi_accept on;
    worker_connections <span style="color: #666666">1024</span>;
<span style="color: #666666">}</span>

http <span style="color: #666666">{</span>
    log_format  main  <span style="color: #BA2121">&#39;$remote_addr - $remote_user [$time_local] &quot;$request&quot; &#39;</span>
                      <span style="color: #BA2121">&#39;$status $body_bytes_sent &quot;$http_referer&quot; &#39;</span>
                      <span style="color: #BA2121">&#39;&quot;$http_user_agent&quot; &quot;$http_x_forwarded_for&quot;&#39;</span>;

    access_log  /var/log/nginx/access.log  main;
    error_log   /var/log/nginx/error.log warn;

    sendfile            on;
    tcp_nopush          on;
    server_tokens       off;
    log_not_found       off;
    types_hash_max_size <span style="color: #666666">2048</span>;

    include             /etc/nginx/mime.types;
    default_type        application/octet-stream;

    include /etc/nginx/conf.d/*.conf;
<span style="color: #666666">}</span>
</pre></div>

<p>This configuration is essentially the default configuration without the default <code>server</code> blocks and a few adjustments.</p>
<p>Create the server configuration at <code>/etc/nginx/conf.d/xo.conf</code> with the following contents.</p>
<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%"><span></span>server <span style="color: #666666">{</span>
    listen      <span style="color: #666666">80</span>;
<span style="background-color: #ffffcc">    server_name xo.example.local;
</span>    <span style="color: #008000; font-weight: bold">return</span>      <span style="color: #666666">301</span>     https://<span style="color: #19177C">$host$request_uri</span>;
<span style="color: #666666">}</span>

server <span style="color: #666666">{</span>
    listen      <span style="color: #666666">443</span> ssl http2;
<span style="background-color: #ffffcc">    server_name xo.example.local;
</span>
    ssl_certificate     /etc/ssl/private/xo/cert.pem;
    ssl_certificate_key /etc/ssl/private/xo/key.pem;
    ssl_protocols       TLSv1.2 TLSv1.3;
    ssl_ciphers         ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305:DHE-RSA-AES128-GCM-SHA256:DHE-RSA-AES256-GCM-SHA384;

    add_header  X-Frame-Options             <span style="color: #BA2121">&quot;SAMEORIGIN&quot;</span>                                                    always;
    add_header  X-XSS-Protection            <span style="color: #BA2121">&quot;1; mode=block&quot;</span>                                                 always;
    add_header  X-Content-Type-Options      <span style="color: #BA2121">&quot;nosniff&quot;</span>                                                       always;
    add_header  Referrer-Policy             <span style="color: #BA2121">&quot;no-referrer-when-downgrade&quot;</span>                                    always;
    add_header  Content-Security-Policy     <span style="color: #BA2121">&quot;default-src &#39;self&#39; http: https: data: blob: &#39;unsafe-inline&#39;&quot;</span>   always;
    add_header  Strict-Transport-Security   <span style="color: #BA2121">&quot;max-age=31536000&quot;</span>                                              always;

    location / <span style="color: #666666">{</span>
        proxy_http_version      <span style="color: #666666">1</span>.1;
        proxy_cache_bypass      <span style="color: #19177C">$http_upgrade</span>;
        proxy_set_header        Upgrade                 <span style="color: #19177C">$http_upgrade</span>;
        proxy_set_header        Connection              <span style="color: #BA2121">&quot;upgrade&quot;</span>;
        proxy_set_header        Host                    <span style="color: #19177C">$host</span>;
        proxy_set_header        X-Real-IP               <span style="color: #19177C">$remote_addr</span>;
        proxy_set_header        X-Forwarded-For         <span style="color: #19177C">$proxy_add_x_forwarded_for</span>;
        proxy_set_header        X-Forwarded-Proto       <span style="color: #19177C">$scheme</span>;
        proxy_set_header        X-Forwarded-Host        <span style="color: #19177C">$host</span>;
        proxy_set_header        X-Forwarded-Port        <span style="color: #19177C">$server_port</span>;

        proxy_pass      http://127.0.0.1:8080/;

        proxy_read_timeout <span style="color: #666666">1800</span>;

<span style="background-color: #ffffcc">        client_max_body_size 4G;
</span>    <span style="color: #666666">}</span>
<span style="color: #666666">}</span>
</pre></div>

<div class="admonition info">
<p class="admonition-title">Info</p>
<p>Ensure the <code>server_name</code> property reflects the domain name that Xen-Orchestra will be accessed by.</p>
</div>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>If the "Virtual Machine Import" feature will be used, the <code>client_max_body_size</code> property may need to be adjusted depending on the size of your VM backup files. If a file is larger than what is defined here, Nginx will respond with a <code>client intended to send too large body</code> error.</p>
</div>
<p>Ensure SSL files are in the correct locations:</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>Private Key</td>
<td><code>/etc/ssl/private/xo/key.pem</code></td>
</tr>
<tr>
<td>Public Certificate</td>
<td><code>/etc/ssl/private/xo/cert.pem</code></td>
</tr>
</tbody>
</table>
<p>If you don't already have a certificate and want to use a self-signed one, see <a href="../../self-signed-certificate-with-root/">here</a> for how to create an installable self-signed certificate.</p>
<p>Test the configuration:</p>
<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%"><span></span>sudo nginx -t
</pre></div>

<p>Restart Nginx:</p>
<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%"><span></span>sudo systemctl restart nginx.service
</pre></div>

<p>Allow HTTP (port <code>80</code>) and HTTPS (port <code>443</code>) through the firewall:</p>
<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%"><span></span>sudo firewall-cmd --permanent --zone<span style="color: #666666">=</span>public --add-service<span style="color: #666666">=</span>http
</pre></div>

<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%"><span></span>sudo firewall-cmd --permanent --zone<span style="color: #666666">=</span>public --add-service<span style="color: #666666">=</span>https
</pre></div>

<p>Reload the firewall with the new rules:</p>
<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%"><span></span>sudo firewall-cmd --reload
</pre></div>

<h3 id="selinux">SELinux<a class="headerlink" href="#selinux" title="Permanent link">&para;</a></h3>
<p>If SELinux is enforcing (and it should be), allow Nginx to connect and proxy with the following rules:</p>
<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%"><span></span>sudo setsebool -P httpd_can_network_connect <span style="color: #666666">1</span>
</pre></div>

<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%"><span></span>sudo setsebool -P httpd_can_network_relay <span style="color: #666666">1</span>
</pre></div>

<h2 id="connect">Connect<a class="headerlink" href="#connect" title="Permanent link">&para;</a></h2>
<p>In your browser, navigate to the URL or IP address of the server.</p>
<p>Default credentials are:</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>Username</td>
<td>admin@admin.net</td>
</tr>
<tr>
<td>Password</td>
<td>admin</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="plugins">Plugins<a class="headerlink" href="#plugins" title="Permanent link">&para;</a></h2>
<p>Several plugins are included in the Xen-Orchestra repository, but must be "enabled".</p>
<h3 id="auth-github">auth-github<a class="headerlink" href="#auth-github" title="Permanent link">&para;</a></h3>
<p>This plugin can be configured to allow users to login using Github Single Sign-On (SSO).</p>
<p>Create a symbolic link from the plugin's directory to the <code>xo-server</code> <code>node_modules</code> directory. Plugin is enabled on restart.</p>
<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%"><span></span>sudo -u xo ln -s /opt/xen-orchestra/packages/xo-server-auth-github <span style="color: #BB6622; font-weight: bold">\</span>
/opt/xen-orchestra/packages/xo-server/node_modules/
</pre></div>

<h3 id="auth-google">auth-google<a class="headerlink" href="#auth-google" title="Permanent link">&para;</a></h3>
<p>This plugin can be configured to allow users to login using Google Single Sign-On (SSO).</p>
<p>Create a symbolic link from the plugin's directory to the <code>xo-server</code> <code>node_modules</code> directory. Plugin is enabled on restart.</p>
<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%"><span></span>sudo -u xo ln -s /opt/xen-orchestra/packages/xo-server-auth-google <span style="color: #BB6622; font-weight: bold">\</span>
/opt/xen-orchestra/packages/xo-server/node_modules/
</pre></div>

<h3 id="auth-ldap">auth-ldap<a class="headerlink" href="#auth-ldap" title="Permanent link">&para;</a></h3>
<p>This plugin can be configured to allow users to login using the Lightweight Directory Access Protocol (LDAP) (including Microsoft&reg; Active Directory&trade;).</p>
<p>Create a symbolic link from the plugin's directory to the <code>xo-server</code> <code>node_modules</code> directory. Plugin is enabled on restart.</p>
<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%"><span></span>sudo -u xo ln -s /opt/xen-orchestra/packages/xo-server-auth-ldap <span style="color: #BB6622; font-weight: bold">\</span>
/opt/xen-orchestra/packages/xo-server/node_modules/
</pre></div>

<h3 id="auth-saml">auth-saml<a class="headerlink" href="#auth-saml" title="Permanent link">&para;</a></h3>
<p>This plugin can be configured to allow users to login using Security Assertion Markup Language (SAML).</p>
<p>Create a symbolic link from the plugin's directory to the <code>xo-server</code> <code>node_modules</code> directory. Plugin is enabled on restart.</p>
<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%"><span></span>sudo -u xo ln -s /opt/xen-orchestra/packages/xo-server-auth-saml <span style="color: #BB6622; font-weight: bold">\</span>
/opt/xen-orchestra/packages/xo-server/node_modules/
</pre></div>

<h3 id="backup-reports">backup-reports<a class="headerlink" href="#backup-reports" title="Permanent link">&para;</a></h3>
<p>This plugin can be configured to deliver Backup task reports to specified users through E-Mail or eXtensible Messaging and Presence Protocol (XMPP).</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>E-Mail reports require the <a href="#transport-email">transport-email</a> plugin</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>XMPP reports require the <a href="#transport-xmpp">transport-xmpp</a> plugin</p>
</div>
<p>Create a symbolic link from the plugin's directory to the <code>xo-server</code> <code>node_modules</code> directory. Plugin is enabled on restart.</p>
<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%"><span></span>sudo -u xo ln -s /opt/xen-orchestra/packages/xo-server-backup-reports <span style="color: #BB6622; font-weight: bold">\</span>
/opt/xen-orchestra/packages/xo-server/node_modules/
</pre></div>

<h3 id="load-balancer">load-balancer<a class="headerlink" href="#load-balancer" title="Permanent link">&para;</a></h3>
<p>This plugin can be configured to assign balance Virtual Machines between servers in a pool based on performance, density, or configurable CPU or memory thresholds.</p>
<p>Create a symbolic link from the plugin's directory to the <code>xo-server</code> <code>node_modules</code> directory. Plugin is enabled on restart.</p>
<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%"><span></span>sudo -u xo ln -s /opt/xen-orchestra/packages/xo-server-load-balancer <span style="color: #BB6622; font-weight: bold">\</span>
/opt/xen-orchestra/packages/xo-server/node_modules/
</pre></div>

<h3 id="perf-alert">perf-alert<a class="headerlink" href="#perf-alert" title="Permanent link">&para;</a></h3>
<p>This plugin can be configured to notify specified users when a host or Virtual Machine reaches a specifed CPU or memory utilization threshold. Notifications for Storage Repository usage is also configurable.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>E-Mail reports require the <a href="#transport-email">transport-email</a> plugin</p>
</div>
<p>Create a symbolic link from the plugin's directory to the <code>xo-server</code> <code>node_modules</code> directory. Plugin is enabled on restart.</p>
<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%"><span></span>sudo -u xo ln -s /opt/xen-orchestra/packages/xo-server-perf-alert <span style="color: #BB6622; font-weight: bold">\</span>
/opt/xen-orchestra/packages/xo-server/node_modules/
</pre></div>

<h3 id="sdn-controller">sdn-controller<a class="headerlink" href="#sdn-controller" title="Permanent link">&para;</a></h3>
<p>This plugin can be enabled to control OpenVSwitch virtual networks. Can be configured with a TLS certificate and key to encrypt network traffic.</p>
<p>Create a symbolic link from the plugin's directory to the <code>xo-server</code> <code>node_modules</code> directory. Plugin is enabled on restart.</p>
<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%"><span></span>sudo -u xo ln -s /opt/xen-orchestra/packages/xo-server-sdn-controller <span style="color: #BB6622; font-weight: bold">\</span>
/opt/xen-orchestra/packages/xo-server/node_modules/
</pre></div>

<h3 id="transport-email">transport-email<a class="headerlink" href="#transport-email" title="Permanent link">&para;</a></h3>
<p>This plugin can be configured to use an SMTP service to send E-Mail.</p>
<p>Create a symbolic link from the plugin's directory to the <code>xo-server</code> <code>node_modules</code> directory. Plugin is enabled on restart.</p>
<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%"><span></span>sudo -u xo ln -s /opt/xen-orchestra/packages/xo-server-transport-email <span style="color: #BB6622; font-weight: bold">\</span>
/opt/xen-orchestra/packages/xo-server/node_modules/
</pre></div>

<h3 id="transport-icinga2">transport-icinga2<a class="headerlink" href="#transport-icinga2" title="Permanent link">&para;</a></h3>
<p>This plugin can be configured to send notifications to an <a href="https://icinga.com/docs/icinga2/latest/">Icinga 2</a> server.</p>
<p>Create a symbolic link from the plugin's directory to the <code>xo-server</code> <code>node_modules</code> directory. Plugin is enabled on restart.</p>
<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%"><span></span>sudo -u xo ln -s /opt/xen-orchestra/packages/xo-server-transport-icinga2 <span style="color: #BB6622; font-weight: bold">\</span>
/opt/xen-orchestra/packages/xo-server/node_modules/
</pre></div>

<h3 id="transport-nagios">transport-nagios<a class="headerlink" href="#transport-nagios" title="Permanent link">&para;</a></h3>
<p>This plugin can be configured to send notifications to a <a href="https://www.nagios.org/">Nagios</a> server.</p>
<p>Create a symbolic link from the plugin's directory to the <code>xo-server</code> <code>node_modules</code> directory. Plugin is enabled on restart.</p>
<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%"><span></span>sudo -u xo ln -s /opt/xen-orchestra/packages/xo-server-transport-nagios <span style="color: #BB6622; font-weight: bold">\</span>
/opt/xen-orchestra/packages/xo-server/node_modules/
</pre></div>

<h3 id="transport-slack">transport-slack<a class="headerlink" href="#transport-slack" title="Permanent link">&para;</a></h3>
<p>This plugin can be configured to send notifications to a <a href="https://slack.com/">Slack</a> channel.</p>
<p>Create a symbolic link from the plugin's directory to the <code>xo-server</code> <code>node_modules</code> directory. Plugin is enabled on restart.</p>
<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%"><span></span>sudo -u xo ln -s /opt/xen-orchestra/packages/xo-server-transport-slack <span style="color: #BB6622; font-weight: bold">\</span>
/opt/xen-orchestra/packages/xo-server/node_modules/
</pre></div>

<h3 id="transport-xmpp">transport-xmpp<a class="headerlink" href="#transport-xmpp" title="Permanent link">&para;</a></h3>
<p>This plugin can be configured to send notifications to an <a href="https://xmpp.org/">XMPP</a> server.</p>
<p>Create a symbolic link from the plugin's directory to the <code>xo-server</code> <code>node_modules</code> directory. Plugin is enabled on restart.</p>
<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%"><span></span>sudo -u xo ln -s /opt/xen-orchestra/packages/xo-server-transport-xmpp <span style="color: #BB6622; font-weight: bold">\</span>
/opt/xen-orchestra/packages/xo-server/node_modules/
</pre></div>

<h3 id="usage-report">usage-report<a class="headerlink" href="#usage-report" title="Permanent link">&para;</a></h3>
<p>This plugin can be configured to send usage reports to specified users on monthly, weekly, or daily intervals.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>E-Mail reports require the <a href="#transport-email">transport-email</a> plugin</p>
</div>
<p>Create a symbolic link from the plugin's directory to the <code>xo-server</code> <code>node_modules</code> directory. Plugin is enabled on restart.</p>
<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%"><span></span>sudo -u xo ln -s /opt/xen-orchestra/packages/xo-server-usage-report <span style="color: #BB6622; font-weight: bold">\</span>
/opt/xen-orchestra/packages/xo-server/node_modules/
</pre></div>

<h3 id="web-hooks">web-hooks<a class="headerlink" href="#web-hooks" title="Permanent link">&para;</a></h3>
<p>This plugin can be configured to send web hook messages on specifed events to a receiving endpoint.</p>
<p>Create a symbolic link from the plugin's directory to the <code>xo-server</code> <code>node_modules</code> directory. Plugin is enabled on restart.</p>
<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%"><span></span>sudo -u xo ln -s /opt/xen-orchestra/packages/xo-server-web-hooks <span style="color: #BB6622; font-weight: bold">\</span>
/opt/xen-orchestra/packages/xo-server/node_modules/
</pre></div>
                
                  
                
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../" title="Services" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Services
              </span>
            </div>
          </a>
        
        
          <a href="../../self-signed-certificate-with-root/" title="Self-Signed Certificate with Root" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Self-Signed Certificate with Root
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2018-2020 W Anders
          </div>
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../../assets/javascripts/application.808e90bb.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:"../../.."}})</script>
      
    
  </body>
</html>